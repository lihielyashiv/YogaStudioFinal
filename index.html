<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- Content Security Policy to allow Tableau iframes and scripts -->
    <meta http-equiv="Content-Security-Policy" content="script-src 'self' https://public.tableau.com; frame-src https://public.tableau.com; connect-src https://public.tableau.com; img-src https://public.tableau.com data:">
    <title>Yoga Studio Analytics 🧘‍♀️</title>
    <style>
        /* General Styling */
        body {
            font-family: 'Arial', sans-serif;
            margin: 0;
            padding: 0;
            background: linear-gradient(135deg, #f5f7fa, #c3cfe2);
            color: #333;
            line-height: 1.6;
        }

        /* Header Styling */
        header {
            background: linear-gradient(90deg, #ff6f61, #ffb88c);
            calendars: 2rem;
            text-align: center;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
        }

        header h1 {
            font-size: 2.5rem;
            margin: 0;
            color: white;
            text-transform: uppercase;
            letter-spacing: 2px;
        }

        header p {
            font-size: 1.2rem;
            color: #fff;
            margin: 0.5rem 0;
        }

        /* Navigation Styling */
        nav {
            background: #333;
            padding: 1rem;
            text-align: center;
        }

        nav a {
            color: white;
            text-decoration: none;
            margin: 0 1.5rem;
            font-size: 1.1rem;
            transition: color 0.3s ease;
        }

        nav a:hover {
            color: #ffb88c;
        }

        /* Main Content */
        .container {
            max-width: 1200px;
            margin: 2rem auto;
            padding: 0 1rem;
        }

        .section {
            background: white;
            border-radius: 10px;
            padding: 2rem;
            margin-bottom: 2rem;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
            animation: fadeIn 1s ease-in-out;
        }

        .section h2 {
            color: #ff6f61;
            font-size: 1.8rem;
            margin-bottom: 1rem;
            display: flex;
            align-items: center;
        }

        .section h2::before {
            content: '🧘‍♀️';
            margin-right: 0.5rem;
        }

        /* Tableau Embed Styling */
        .tableau-embed {
            text-align: center;
            margin: 2rem 0;
            min-height: 600px;
        }

        .tableau-embed h3 {
            color: #333;
            font-size: 1.5rem;
            margin-bottom: 1rem;
        }

        .tableau-embed iframe {
            width: 100%;
            height: 600px;
            border: none;
            background: #f9f9f9;
        }

        /* Error Message Styling */
        .error-message {
            color: #ff4444;
            text-align: center;
            margin: 1rem 0;
        }

        .error-message a {
            color: #ff6f61;
            text-decoration: underline;
        }

        /* Animations */
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* Footer Styling */
        footer {
            background: linear-gradient(90deg, #ff6f61, #ffb88c);
            color: white;
            text-align: center;
            padding: 1rem;
            position: relative;
            bottom: 0;
            width: 100%;
        }

        footer p {
            margin: 0;
            font-size: 1rem;
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            header h1 {
                font-size: 1.8rem;
            }

            nav a {
                display: block;
                margin: 0.5rem 0;
            }

            .container {
                padding: 0 1rem;
            }

            .tableau-embed iframe {
                height: 400px;
            }
        }
    </style>
</head>
<body>
    <header>
        <h1>Yoga Studio Analytics Dashboard 🧘‍♀️✨</h1>
        <p>Explore the power of data in enhancing your yoga journey 🌿</p>
    </header>

    <nav>
        <a href="#overview">Overview</a>
        <a href="#financial">Financial Data</a>
        <a href="#attendance">Attendance Stats</a>
        <a href="#distribution">Dist. Channels & Revenue</a>
    </nav>

    <div class="container">
        <div class="section" id="overview">
            <h2>Welcome to Our Yoga Analytics 🌸</h2>
            <p>
                Dive into the data-driven world of our yoga studio! These dashboards, powered by Tableau, provide insights into financial performance, class attendance, and distribution channels to help us create a more zen experience for everyone. 🧘‍♂️
            </p>
        </div>

        <div class="section tableau-embed" id="financial">
            <h3>Studio Financial Data 📊</h3>
            <iframe src="https://public.tableau.com/views/YogaStudio/StudiosFinancialData?:embed=y&:showVizHome=no&:display_count=n&:origin=viz_share_link" width="100%" height="600px" frameborder="0"></iframe>
            <p class="error-message">
                If the Financial Data dashboard is not visible, please <a href="https://public.tableau.com/views/YogaStudio/StudiosFinancialData" target="_blank">view it directly on Tableau Public</a>. 😔
            </p>
        </div>

        <div class="section tableau-embed" id="attendance">
            <h3>Classes Attendance Statistics 📈</h3>
            <iframe src="https://public.tableau.com/views/YogaStudio-ClassessAttendenceStatistics/ClassessAttendenceStatistics?:embed=y&:showVizHome=no&:display_count=n&:origin=viz_share_link" width="100%" height="600px" frameborder="0"></iframe>
            <p class="error-message">
                If the Attendance Statistics dashboard is not visible, please <a href="https://public.tableau.com/views/YogaStudio-ClassessAttendenceStatistics/ClassessAttendenceStatistics" target="_blank">view it directly on Tableau Public</a>. 😔
            </p>
        </div>

        <div class="section tableau-embed" id="distribution">
            <h3>Distribution Channels & Revenue 💰</h3>
            <iframe src="https://public.tableau.com/views/YogaStudio-Dist_channelsRevenue/Dist_channelsRevenue?:embed=y&:showVizHome=no&:display_count=n&:origin=viz_share_link" width="100%" height="600px" frameborder="0"></iframe>
            <p class="error-message">
                If the Distribution Channels dashboard is not visible, please <a href="https://public.tableau.com/views/YogaStudio-Dist_channelsRevenue/Dist_channelsRevenue" target="_blank">view it directly on Tableau Public</a>. 😔
            </p>
        </div>
    </div>

    <footer>
        <p>© 2025 Yoga Studio Analytics | Powered by Passion & Data 🌿</p>
    </footer>

    <script>
        // Smooth Scroll for Navigation
        document.querySelectorAll('nav a').forEach(anchor => {
            anchor.addEventListener('click', function(e) {
                e.preventDefault();
                const sectionId = this.getAttribute('href').substring(1);
                document.getElementById(sectionId).scrollIntoView({ behavior: 'smooth' });
            });
        });

        // Add animation to sections on scroll
        const sections = document.querySelectorAll('.section');
        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.style.animation = 'fadeIn 1s ease-in-out';
                }
            });
        }, { threshold: 0.1 });

        sections.forEach(section => observer.observe(section));

        // Check if iframes loaded successfully
        document.querySelectorAll('.tableau-embed iframe').forEach(iframe => {
            iframe.addEventListener('load', () => {
                console.log(`Iframe loaded: ${iframe.src}`);
                // Check if iframe content is empty
                try {
                    const content = iframe.contentDocument || iframe.contentWindow.document;
                    if (!content.body || content.body.innerHTML.trim() === '') {
                        console.warn(`Iframe content is empty for: ${iframe.src}`);
                        iframe.nextElementSibling.style.display = 'block';
                    }
                } catch (e) {
                    console.error(`Error accessing iframe content for ${iframe.src}:`, e);
                    iframe.nextElementSibling.style.display = 'block';
                }
            });
            iframe.addEventListener('error', () => {
                console.error(`Iframe failed to load: ${iframe.src}`);
                iframe.nextElementSibling.style.display = 'block';
            });
        });
    </script>
</body>
</html>
